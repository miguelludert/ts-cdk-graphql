{
	"expectedBlogPost": {
		"dataSourceName": "blogPostTable",
		"description": "A dynamo table datasource for BlogPost",
		"tableProps": {
			"tableName": "blog-post-table",
			"partitionKey": {
				"name": "blogPostId",
				"type": "S"
			}
		},
		"GSI": [
			{
				"indexName": "byTitle",
				"projectionType": "ALL",
				"partitionKey": {
					"name": "title",
					"type": "S"
				}
			}
		]
	},
	"expectedComment": {
		"dataSourceName": "commentTable",
		"description": "A dynamo table datasource for Comment",
		"tableProps": {
			"tableName": "comment-table",
			"partitionKey": {
				"name": "blogPostId",
				"type": "S"
			},
			"sortKey": {
				"name": "commentId",
				"type": "S"
			}
		},
		"LSI": [
			{
				"indexName": "byIds",
				"projectionType": "ALL",
				"partitionKey": {
					"name": "blogPostId",
					"type": "S"
				},
				"sortKey": {
					"name": "commentId",
					"type": "S"
				}
			}
		]
	},
	"input": {
		"stackMapping": {
			"BlogPostTable": "BlogPost",
			"CommentTable": "Comment"
		},
		"stacks": {
			"BlogPost": {
				"Resources": {
					"BlogPostTable": {
						"Properties": {
							"AttributeDefinitions": [
								{
									"AttributeName": "blogPostId",
									"AttributeType": "S"
								},
								{
									"AttributeName": "title",
									"AttributeType": "S"
								}
							],
							"KeySchema": [
								{
									"AttributeName": "blogPostId",
									"AttributeType": "S"
								}
							],
							"GlobalSecondaryIndexes": [
								{
									"IndexName": "byTitle",
									"KeySchema": [
										{
											"AttributeName": "title",
											"KeyType": "HASH"
										}
									],
									"Projection": {
										"ProjectionType": "ALL"
									},
									"ProvisionedThroughput": {
										"Fn::If": [
											"ShouldUsePayPerRequestBilling",
											{
												"Ref": "AWS::NoValue"
											},
											{
												"ReadCapacityUnits": {
													"Ref": "DynamoDBModelTableReadIOPS"
												},
												"WriteCapacityUnits": {
													"Ref": "DynamoDBModelTableWriteIOPS"
												}
											}
										]
									}
								}
							]
						}
					}
				}
			},
			"Comment": {
				"Resources": {
					"CommentTable": {
						"Properties": {
							"AttributeDefinitions": [
								{
									"AttributeName": "blogPostId",
									"AttributeType": "S"
								},
								{
									"AttributeName": "commentId",
									"AttributeType": "S"
								}
							],
							"KeySchema": [
								{
									"AttributeName": "blogPostId",
									"AttributeType": "S"
								},
								{
									"AttributeName": "commentId",
									"AttributeType": "S"
								}
							],
							"LocalSecondaryIndexes": [
								{
									"IndexName": "byIds",
									"KeySchema": [
										{
											"AttributeName": "blogPostId",
											"KeyType": "HASH"
										},
										{
											"AttributeName": "commentId",
											"KeyType": "RANGE"
										}
									],
									"Projection": {
										"ProjectionType": "ALL"
									}
								}
							]
						}
					}
				}
			}
		}
	}
}
